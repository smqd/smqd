<div class="wrapper wrapper-content">
  <div class="row">
    <div class="col-lg-12">
      <h2>New Instance</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="ibox">
        
        <div class="ibox-title">
          <div class="row">
            <div class="col-lg-11 row">
              <div class="form-group col-lg-4">
                <label>Instance Name</label>
                <input type="text" class="form-control b-r-md dark-bg" [(ngModel)]="instanceName">
              </div>
              <div class="form-group col-lg-4">
                <label>Auto Start</label>
                
                <div class="checkbox-small" *ngIf="newConfig">
                  <ui-switch [(ngModel)]="newConfig['auto-start']"></ui-switch>
                </div>
                
              </div>
            </div>
          </div>
        </div>

        <div class="ibox-content">
          <div class="row">
            <div *ngIf="configSchema?.sections">
              <app-section [section]="section" [defaultConfig]="defaultConfig" *ngFor="let section of configSchema.sections" (addRow)="addGrowableRow($event)"></app-section>
            </div>
            <div class="col-lg-11 row" *ngIf="!configSchema?.sections">
              <div *ngFor="let column of instanceConfig">
                <div class="col-lg-4">
                  <app-input [column]="column"></app-input>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="ibox-footer">
              <button type="button" class="btn btn-sm dark-bg" (click)="createInstance()">Confirm</button>
              <button type="button" class="btn btn-sm dark-bg" (click)="goBack()">Cancel</button>
        </div>

      </div>
    </div>
  </div>

</div>